# OLD COMMAND:
## WILL NOT WORK WITH THIS IMAGE
## USE ONE OF THE COMMANDS BELOW
aegea batch submit --queue aegea_batch --ecr-image aligner --storage /mnt=500 --memory 64000 --vcpus 16 --command="cd /mnt;git clone https://github.com/czbiohub/microbiome-data-analysis.git;coreNum=15;memPerCore=2G;maxInsert=3000;maxAlignments=50;genomeReferenceDir=/czbiohub-brianyu/Synthetic_Community/Genome_References/Bowtie2Index_090718;sampleName=Dorea-longicatena-DSM-13814;fastq1=/czbiohub-brianyu/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Dorea-longicatena-DSM-13814_S275_R1_001.fastq.gz;fastq2=/czbiohub-brianyu/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Dorea-longicatena-DSM-13814_S275_R2_001.fastq.gz;bamOutput=/czbiohub-brianyu/Synthetic_Community/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.sortedByName.bam;relativeAbundanceOutput=/czbiohub-brianyu/Synthetic_Community/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.alignmentSummary.csv;readAccountingOutput=/czbiohub-brianyu/Synthetic_Community/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.readAccounting.csv;s3Root=s3://czbiohub-brianyu/Synthetic_Community/2018.12.10_StrainVerification_removeRegions/;source /mnt/microbiome-data-analysis/similarity_aware_alignment/accu_align.sh"

# New:
aegea batch submit --watch --queue microbiome-lowPriority --image sunitjain/bowtie_accu_align --storage /mnt=500 --memory 64000 --vcpus 16 --command="export trimQuality=30;export coreNum=15;export memPerCore=2G;export maxInsert=3000;export maxAlignments=50;export genomeReferenceDir=/czbiohub-brianyu/Synthetic_Community/Genome_References/Bowtie2Index_090718;export sampleName=Dorea-longicatena-DSM-13814;export fastq1=/czbiohub-brianyu/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Dorea-longicatena-DSM-13814_S275_R1_001.fastq.gz;export fastq2=/czbiohub-brianyu/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Dorea-longicatena-DSM-13814_S275_R2_001.fastq.gz;export bamOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.sortedByName.bam;export relativeAbundanceOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.alignmentSummary.csv;export readAccountingOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.readAccounting.csv;export s3Root=s3://czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align/2018.12.10_StrainVerification_removeRegions/;echo \${PWD};ls -laR;./accu_align.sh"

# New with BBDUK trimQ=30:
aegea batch submit --queue microbiome-lowPriority --image sunitjain/bowtie_accu_align --storage /mnt=500 --memory 64000 --vcpus 16 --command="export trimQuality=30;export coreNum=15;export memPerCore=2G;export maxInsert=3000;export maxAlignments=50;export genomeReferenceDir=/czbiohub-brianyu/Synthetic_Community/Genome_References/Bowtie2Index_090718;export sampleName=Dorea-longicatena-DSM-13814;export fastq1=/czbiohub-brianyu/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Dorea-longicatena-DSM-13814_S275_R1_001.fastq.gz;export fastq2=/czbiohub-brianyu/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Dorea-longicatena-DSM-13814_S275_R2_001.fastq.gz;export bamOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_tq30/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.sortedByName.bam;export relativeAbundanceOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_tq30/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.alignmentSummary.csv;export readAccountingOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_tq30/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.readAccounting.csv;export s3Root=s3://czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_tq30/2018.12.10_StrainVerification_removeRegions/;echo \${PWD};ls -laR;./accu_align.sh"

# Original BOWTIE SETTINGS with BBDUK trimQ=30:
aegea batch submit --queue microbiome-lowPriority --image sunitjain/bowtie_accu_align --storage /mnt=500 --memory 64000 --vcpus 16 --command="export trimQuality=30;export method='Original';export coreNum=15;export memPerCore=2G;export maxInsert=3000;export maxAlignments=50;export genomeReferenceDir=/czbiohub-brianyu/Synthetic_Community/Genome_References/Bowtie2Index_090718;export sampleName=Dorea-longicatena-DSM-13814;export fastq1=/czbiohub-brianyu/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Dorea-longicatena-DSM-13814_S275_R1_001.fastq.gz;export fastq2=/czbiohub-brianyu/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Dorea-longicatena-DSM-13814_S275_R2_001.fastq.gz;export bamOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_original_tq30/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.sortedByName.bam;export relativeAbundanceOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_original_tq30/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.alignmentSummary.csv;export readAccountingOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_original_tq30/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.readAccounting.csv;export s3Root=s3://czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_original_tq30/2018.12.10_StrainVerification_removeRegions/;./accu_align.sh"

# Original BOWTIE SETTINGS:
aegea batch submit --watch --queue microbiome-lowPriority --image sunitjain/bowtie_accu_align --storage /mnt=500 --memory 64000 --vcpus 16 --command="export trimQuality=30;export method='Original';export coreNum=15;export memPerCore=2G;export maxInsert=3000;export maxAlignments=50;export genomeReferenceDir=/czbiohub-brianyu/Synthetic_Community/Genome_References/Bowtie2Index_090718;export sampleName=Dorea-longicatena-DSM-13814;export fastq1=/czbiohub-brianyu/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Dorea-longicatena-DSM-13814_S275_R1_001.fastq.gz;export fastq2=/czbiohub-brianyu/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Dorea-longicatena-DSM-13814_S275_R2_001.fastq.gz;export bamOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_original/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.sortedByName.bam;export relativeAbundanceOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_original/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.alignmentSummary.csv;export readAccountingOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_original/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.readAccounting.csv;export s3Root=s3://czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_original/2018.12.10_StrainVerification_removeRegions/;./accu_align.sh"